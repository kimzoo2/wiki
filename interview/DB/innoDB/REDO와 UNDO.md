### UNDO
- 언두로그는 **데이터가 변경**되었을 때, **변경 전 값**만 저장한 백업 데이터를 의미한다.
- **트랜잭션을 보장**(롤백 대비)하고 **트랜잭션 격리 수준**을 보장한다.

#### 실행 시점
- 데이터 변경 전

#### 저장 공간
- **메모리**와 **디스크** 모두 저장된다.
- 메모리에 저장해서 데이터를 불러오는 성능 최적화를 이루고 메모리 부족이나 복구 가능성을 보장하기 위해 일정 시간 이후 (commit 쯤) 디스크로 플러시된다.
- 성능과 복구 가능성을 위해 사용한다.

### 스냅샷과 [[REDO와 UNDO|언두로그]]가 데이터의 일관성을 어떻게 유지하고 보장하는지 자세히 설명해보세요.
- 이는 이전 버전의 데이터를 유지하고, 트랜잭션 롤백을 용이하게 하며, 다중 버전 관리를 지원하는 역할을 합니다. 트랜잭션 중에 행이 수정될 때마다 InnoDB에서 새 버전을 생성하여 Undo Log(변경 전 데이터)에 저장합니다. 이를 통해 필요한 경우 **시스템이 이전 버전으로 되돌릴 수 있습니다**. 

## Undo log 크기가 계속 커진다면?
- undo log는 메모리에 저장되기 때문에 공간 효율성이 떨어집니다. 트랜잭션을 길게 유지하면 undo log도 남기 때문에 트랜잭션을 짧게 유지하거나 undo log 최적화 기법을 사용합니다.
### REDO
- **영속성**과 관련 있으며, 데이터 파일에 기록되지 못한 **데이터를 잃지 않게 해주는 데이터**이다. 비정상적으로 서버가 종료되면 리두 로그로 데이터 파일을 서버 종료 전으로 복구 시키는 역할을 한다.

**실행 시점**
- 데이터 변경 후 변경 저장(commit) 전