
**row**를 기준으로 테이블을 분리한다. 나눈 테이블을 서로 다른 DB 서버에 저장된다. 각 파티션을 shard(샤드)라고 한다.

### 샤딩 방법
- **범위 기반 샤딩 (A-C, D-G, H~K)**
	- 단점 - 한쪽 노드에 데이터가 집약될 수 있다.
	- 장점 - 구현하기 쉽다.
- **해시 샤딩**
	- 장점 - 여러 노드에 분산 저장할 수 있다.
	- 단점 - 정보의 의미에 따라 데이터 분할되지 않기 때문에 샤드를 추가했을 때 해시값 재할당이 어렵다.
- **디렉터리 샤딩**
	- 조회 테이블을 사용해서 물리적 샤드와 매칭 시킨다. ex) 파란색 - 샤드키A, 노란색 - 샤드키B, 빨간색 - 샤드키C

### 장점
- DB 서버 부하 분산 효과를 누릴 수 있다. -> 응답 시간 개선
- DB 서버 중 한대에 장애가 발생해도 다른 서버는 역할을 수행할 수 있다. (데이터는 같지 않다는 단점) -> 가용성
### 단점
- 데이터 분포가 고르지 않다.
- 여러 노드를 관리해야하기 때문에 복잡하다.
- 인프라 비용이 더 든다.

https://www.youtube.com/watch?v=P7LqaEO-nGU


### 샤딩 vs 파티셔닝
- 가장 큰 차이점은 **분산성**입니다. 파티셔닝은 **물리적 분할한 테이블**을 **하나의 데이터베이스**에서 관리하지만 샤딩은 각 DB 서버에 저장합니다.

### 어느 상황에서 샤딩을 쓰고 파티셔닝을 쓸까?
- 단일 데이터베이스를 사용하여 대용량 테이블의 문제를 해결하고 싶은 경우 파티셔닝을 사용한다.
- 테이블에 데이터 양이 너무 많아서 하나의 서버로 관리하기 어려울 때 샤딩을 사용한다.

### 어느 상황에 샤딩을 쓰고 복제를 할까?
- 샤딩 - 테이블의 데이터가 너무 많아서 하나의 서버에서 감당하기 어려울 때, 쓰기 부하가 너무 많을 때
- 복제 - 읽기 부하가 너무 많아서 부하를 분산할 때, 고가용성을 보장해야 할 때