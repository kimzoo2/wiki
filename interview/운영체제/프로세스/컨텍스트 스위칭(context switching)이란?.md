## 컨텍스트 스위칭이란?

- 다른 프로세스로 **CPU의 제어권을 넘겨주는 행위**이다. 그래서 기존 프로세스의 문맥을 PCB에 백업하고, 새로운 프로세스를 실행하기 위해 문맥을 PCB로부터 복원하여 **새로운 프로세스을 실행하는 것이 context switching**이다.

### context switching은 언제 발생하나요?
- 주어진 **tims slice**를 다 사용할 때
- **i/o 작업**을 호출할 때
- **시스템 콜**이 발생하여 **커널 모드**로 전환해야 할 때

#### 컨텍스트 스위칭 작업
- 다른 프로세스의 페이지 테이블 활성화 (**각 프로세스마다 개별적인 페이지 테이블이 존재**)
- TLB flush
- PCB 로드

#### 오버헤드
- CPU 레지스터 저장 및 복원 오버헤드
- 캐시 미스로 인한 성능 저하
- TLB 플러시
- 시스템 콜 및 인터럽트 처리 비용
### process context switching과 thread context switching의 차이
- thread context switching은 **가상 메모리 공간**이 그대로 남지만 process context switching은 그렇지 않다는 것입니다. process가 전환되는 경우에는 가상 메모리 공간이 변경되기 때문에 **Cache Pollution** 문제가 발생합니다. 예로 이전에는 **TLB**가 컨텍스트 스위칭 되면 주소체계가 충돌할 수 있어 flush되어 프레임에 접근하려면 두 번 메모리에 접근해야만 했습니다.

### Cache Pollution 문제란?
- 재사용 가능성이 낮거나 사용 빈도가 낮은 데이터로 인해 **캐시 공간이 낭비되는 현상**이다.
- 캐시 히트율 감소로 이어진다.

