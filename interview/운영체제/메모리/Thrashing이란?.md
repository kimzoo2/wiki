---
tags:
  - 운영체제/memory_management/thrashing
---
## 스래싱

- 프로세스가 실제 실행되는 시간보다 **페이징에 더 많은 시간을 사용**해서 성능이 떨어지는 현상을 **thrashing** 이라고 한다.
- 운영체제는 **최소한의 프레임 수를 파악하고 프로세스에 적절한 프레임을 할당**해줘야 한다.

## 프레임 할당 방식

### 정적 할당

- **균등 할당 방식** : 모든 프로세스에 균등하게 프레임을 제공하는 방식. 하지만 프로세스의 크기가 다들 다르기 때문에 동일한 프레임 개수를 할당하는 것은 비합리적이다.
    ex) 메모장에 100개, 인텔리제이에 100개, 카카오톡에 100개
    
- **비례 할당 방식** : 프로세스 크기가 크면 많이 할당하고 프로세스 크기가 작으면 적게 할당하는 방식이다. 하지만 막상 실행해보면 유동적으로 반영하지 못할 수 있다. 즉, 실행해봐야 얼마나 많은 프레임이 필요한지 실행해야 알 수 있기도 한다.
    ex) 동영상 플레이어는 프로그램 자체는 작으나 용량이 큰 동영상을 불러오면 부족할 수 있다.
    

### 동적 할당

- **작업 집합(Working Set) 모델** : 실행 중인 프로세스가 일정 시간 동안 참조한 페이지의 집합을 작업 집합(working set)이라고 하고, 이를 기억해서 운영체제는 작업 집합의 크기만큼만 프레임을 할당한다.
- **페이지 폴트 빈도**(Page-Fault Frequency)
- 우선 아래 두 개의 가정에서 태어난 게 페이지 폴트 빈도를 기반으로 한 프레임 할당이다. 프로세스마다 페이지 폴트 횟수를 기록해서 페이지 폴트 비율을 계산한다. **페이지 폴트율에 상한선과 하한선을 정하고 이 범위 안에서 프레임을 할당**하는 방식이다.
    - 페이지 폴트율이 너무 높으면 프로세스는 너무 적은 프레임을 갖고 있다.
    - 페이지 폴트율이 너무 낮으면 프로세스는 너무 많은 프레임을 갖고 있다.