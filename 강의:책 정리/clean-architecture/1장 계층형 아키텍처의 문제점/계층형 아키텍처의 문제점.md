### 계층형 아키텍처에 대해서
웹 -> 도메인 -> 영속성 계층으로 이어지는 계층형 아키텍처는 선택의 폭을 넓히고, 변화하는 요구사항에 잘 대응할 수 있게 만든다. 또한 익숙한 구조로 가독성을 증진 시킬수도 있다.

### 계층형 아키텍처의 문제점
#### 데이터베이스 주도 설계
하지만 계층형 아키텍처는 **데이터베이스 주도 설계를 만든다**.
웹 계층은 도메인 계층에 의존하고 도메인 계층은 영속성 계층에 의존하기 때문에 결과적으로 **영속성 계층에 모든 계층이 의존**하게 된다.
또한 영속성 모델을 비즈니스 모델처럼 사용하게 되고 **영속성 코드가 도메인 코드와 섞여 들어가, 분리가 어려워진다**.


#### 지름길을 택하기 쉬워진다.
계층형 아키텍처는 기본적으로 같은 계층과 하위 계층만 접근이 가능하다.
그렇다면 상위 계층에 있는 컴포넌트에 접근하기 위해서는 어떻게 해야할까?
이때 **상위 컴포넌트를 하위 계층에 내림으로 문제를 해결하기 쉽다**. 즉, 지름길을 택하기 쉬워진다는 뜻이다.


#### 테스트하기 어렵다.
계층을 건너뛰기 쉬워진다. 예를 들어, 웹 계층에서 영속성 계층의 컴포넌트를 호출할 수 있게 된다. 이 문제는 두가지 문제를 또 낳는다.
1. 웹 계층에 비즈니스 로직을 구현할 가능성이 높다.
2. 웹 계층의 요구사항에 따라 도메인의 변경이 발생할 확률이 높다.
이렇게 되면 테스트하기 어렵다는 문제가 결국 발생한다.