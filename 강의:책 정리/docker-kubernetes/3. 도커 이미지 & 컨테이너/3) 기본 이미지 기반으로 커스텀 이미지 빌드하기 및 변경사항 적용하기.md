
>dockerhub에서 제공하는 코드를 사용해서 내가 작성한 코드를 어떻게 작동 시킬 수 있을까?

공식 베이스 이미지를 가져온 다음, 그 위에 코드를 추가해서 그 이미지로 코드를 실행한다.
공유하지 않는 한 도커 허브에 공개되진 않는다.

Dockerfile을 작성하여 커스텀 이미지를 생성할 수 있다.

```dockerfile
# node 이미지 가져오기
FROM node

# workdirectory 지정 (npm도 여기서 실행된다)

WORKDIR /app


# 모든 코드를 복사한다
# 첫번째 . 이미지의 외부 경로 (dockerfile이랑 같은 위치다)
# 두번째 . 이미지의 내부 경로(서브 폴더를 쓰라네)
# /app -> /app 폴더에 복사된다. (절대경로)
# ./ -> workdirectory 지정했기 때문에 workdir에서 실행된다 (상대 경로)

COPY . ./

# 종속성 설치

RUN npm install

# 컨테이너를 실행해야지 이미지를 실행하려고 하면 안 된다 
# RUN node server.js

# 80포트로 내부 포트를 연다 (그렇다고 접근 가능한 localhost 포트가 열리는 것은 아니다.)
EXPOSE 80

# CMD 이미지가 생성될 때 실행되지 않고 컨테이너가 실행된 후에 서버 실행 - cmd는 구문이 좀 다르다.

CMD ["node", "server.js"]
```


> docker build [Docker 파일 경로]
- 컨테이너에게 Dockerfile을 기반으로 이미지를 만들라고 명령한다.


#### 변경사항 적용하기
이미지는 변경되어도 반영되지 않는다. 스냅샷이 유지되기 때문이다.
변경사항이 발생했을 때는 **이미지를 새로 빌드**해야만 한다.

추후 변경사항을 적용하는 아름다운 방법을 알려준다고 함